---
ws_node: ${WS_NODE}
api_host: ${API_HOST}
bad_block_range: ${ONE_DOT_ELEVEN_BAD_BLOCK_RANGE}
msg_fee_height: ${MSG_FEE_HEIGHT}

dbConfig:
  dbUri: ${DB_URI}
  dbUser: ${DB_USER}
  dbPass: ${DB_PASSWORD}
  cacheUri: ${CACHE_URI}
  cacheCheckpoint: ${CACHE_CHECKPOINT}
  cacheTable: ${CACHE_TABLE}
  dbType: ${DB_TYPE}
  dbMaxConnections: ${DB_MAX_CONNECTIONS}

block-api:
  host: ${BLOCK_API_HOST}
  port: ${BLOCK_API_PORT}
  apiKey: ${BLOCK_API_API_KEY}
  maxBlockSize: ${BLOCK_API_MAX_BLOCK_SIZE}

hrp: ${HRP}
# Event stream-specific configuration options:
event-stream:
  # Configuration of the Tendermint API:
  websocket:
    throttle-duration-ms: 0
  batch:
    # Controls the maximum number of blocks that will be bundled into a batch for processing.
    size: ${BATCH_SIZE}
    # Controls the timeout for a batch. If a batch is incomplete and a new block has not been received within
    # `timeout` milliseconds, the batch will be emitted, despite the fact it has less the `size` blocks.
    # timeout-ms: 10000
  filter:
    # A listing of transaction events to filter by. If no events are provided, filtering by transactions will be
    # disabled.
    tx-events:
      - provenance.attribute.v1.EventAttributeAdd
      - provenance.attribute.v1.EventAttributeUpdate
      - provenance.attribute.v1.EventAttributeDelete
      - provenance.attribute.v1.EventAttributeDistinctDelete
      - provenance.marker.v1.EventMarkerActivate
      - provenance.marker.v1.EventMarkerAdd
      - provenance.marker.v1.EventMarkerBurn
      - provenance.marker.v1.EventMarkerCancel
      - provenance.marker.v1.EventMarkerDelete
      - provenance.marker.v1.EventMarkerFinalize
      - provenance.marker.v1.EventMarkerMint
      - provenance.marker.v1.EventMarkerSetDenomMetadata
      - provenance.marker.v1.EventMarkerTransfer
      - provenance.marker.v1.EventMarkerWithdraw
      - transfer
      - message

    # A listing of block events to filter by. If no events are provided, filtering by blocks will be
    # disabled.
    # block-events:
    # - event1
    # - event2
    # ...

# Configuration options for the upload consumer
upload:
  # Each extractor given will be run on a each post-filtered block received in the event stream:
  extractors:
    - tech.figure.aggregate.service.stream.extractors.csv.impl.TxEventAttributes
    - tech.figure.aggregate.service.stream.extractors.csv.impl.TxMarkerTransfer
    - tech.figure.aggregate.service.stream.extractors.csv.impl.TxMarkerSupply
    - tech.figure.aggregate.service.stream.extractors.csv.impl.TxCoinTransfer
    - tech.figure.aggregate.service.stream.extractors.csv.impl.TxFees
